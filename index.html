<!doctype html>
<html>

<head>
  <title>CryptoJS Demo</title>
  <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
  <script src="node_modules/crypto-js/crypto-js.js"></script>
  <script type="text/javascript">

    // Call this code when the page is done loading.
    $(function () {

      $('#encode').click(function () {
        const encrypted = CryptoJS.AES.encrypt($('#message').val(), $('#pass').val()).toString();
        $('#message').val(encrypted);
      });

      $('#decode').click(function () {
        var bytes = CryptoJS.AES.decrypt($('#message').val(), $('#pass').val());
        var originalText = bytes.toString(CryptoJS.enc.Utf8);
        $('#message').val(originalText);
      });

      $('#copy').click(async function () {
        await navigator.clipboard.writeText($('#message').val());
        $('#output').text('Copied!');
      });

      $('#clear').click(async function () {
        $('#message').val('');
        $('#output').text('');
      });

    });
  </script>
</head>

<body>
  <p>
    <label for="message">Message</label>
  </p>
  <p>
    <textarea id="message" rows="15" cols="65"></textarea>
  </p>
  <p>
    <label for="pass">Password:</label>
    <input id="pass" type="password">
  </p>
  <p>
    <input id="encode" type="button" value="Encode" />
    <span>_______________</span>
    <input id="decode" type="button" value="Decode" />
    <span>_______________</span>
    <input id="copy" type="button" value="Copy" />
    <span>_______________</span>
    <input id="clear" type="button" value="Clear" />
  </p>
  <p>
    <label id="output"></label>
  </p>

</body>

</html>